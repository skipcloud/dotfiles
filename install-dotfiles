#!/bin/bash
conf_dir=$HOME/.config
stow_dirs=( "irb" "pry" "tmux" "zsh" "git")

if ! type stow >/dev/null; then
  echo "stow is not installed, please install and retry" >&2
  exit 1
fi

for i in "${stow_dirs[@]}"
do
  echo "intalling ${i}"
  stow --dotfiles $i
done

# Install XDG config stuff
xdg_dirs=("nvim" "dlv")
for dir in ${xdg_dirs[@]} ; do
	echo "Installing $dir"
	[[ ! -d $conf_dir/$dir ]] && mkdir --parents $conf_dir/$dir
	stow --target $conf_dir/$dir $dir
done

echo "installing pycodestyle"
stow --target $conf_dir pycodestyle
